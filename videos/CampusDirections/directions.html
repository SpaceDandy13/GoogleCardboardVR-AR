<!DOCTYPE html>
<html>
	<head>
		<!-- Google Directions API Key: AIzaSyAXMG7IIHbPwz9NcCYFo2vgfD7WtKwizmM -->
		<title> Google CardBoard AR/VR </title>
		<link rel="stylesheet" type="text/css" href="directions.css">
	</head>
	<a id="site" href="#"><img id="rpi" src="rpilogo.png" width="300" height="50"></a>
	</br>
	<body id="mybody">
		<!-- Might want to make a list of locations, to start with. I can try adding a map interface later -->
		<!-- <select id="start">
			<option value="15th St, Troy, NY 12180">Rensselaer Union</option>
			<option value="Academy Hall, Troy, NY 12180">Academy Hall</option>
			<option value="EMPAC, 8th St, Troy, NY 12180">EMPAC</option>
			<option value="110 8th St, Troy, NY 12180">Sage Laboratory</option>
		</select>
		<select id="end">
			<option value="15th St, Troy, NY 12180">Rensselaer Union</option>
			<option value="Academy Hall, Troy, NY 12180">Academy Hall</option>
			<option value="EMPAC, 8th St, Troy, NY 12180">EMPAC</option>
			<option value="110 8th St, Troy, NY 12180">Sage Laboratory</option>
		</select> -->
		</br>
		<div>
			<select id="start">
			<option> Origin </option>
			<option> ------- </option>
			</select>
		</div>
		<div>
			<select id="end">
			<option> Destination </option>
			<option> ------- </option>
			</select>
		</div>
		</br>
		<button> submit </button> 
	</body>
	<script>
			// https://maps.googleapis.com/maps/api/directions/json?origin=Boston,MA&destination=Concord,MA&waypoints=Charlestown,MA|via:Lexington,MA&key=AIzaSyAjiVKlrIvzWE8Tim4Zq7Sqfka4KLX1Bfg
			// users click on two parts of a map of RPI campus (first click is start, second is destination)
			// returns name of location, or maybe latitude and longitude
			// use that with Google directions api to get "steps" to destination
			// find closest points in map.json to the lat/long of steps, set up order
			// now you can move through images until you get to the location

			// this is function that needs a ton of work... I don't know if this is similar at all to what I need
			function initMap() {
				var markerArray = [];

				var directionsService = new google.maps.DirectionsService;

				var map = new google.maps.Map("", {
					// zoom:
					// center: {lat:, lng:}
				});

				// probably won't need this...
				var directionsDisplay = new google.maps.DirectionsRenderer({map: map});

				var stepDisplay = new google.maps.InfoWindow;

				calculateAndDisplayRoute(directionsService, directionsDisplay, markerArray, stepDisplay, map);

				var onChangeHandler = function() {
					calculateAndDisplayRoute(directionsService, directionsDisplay, markerArray, stepDisplay, map);
				}

				// get start destination
				document.getElementById('start').addEventListener('change', onChangeHandler);
				document.getElementById('end').addEventListener('change', onChangeHandler);

				// get end destination
			}

			function calculateAndDisplayRoute(directionsService, directionsDisplay, markerArray, stepDisplay, map) {
				directionsService.route({
					origin: document.getElementById('start').value,
					destination: document.getElementById('end').value,
					travelMode: 'WALKING'
				}, function(response, status) {
					if (status == 'OK') {
						// response if the directions result
						console.log(response)
						for (var i = 0; i < response.routes[0].overview_path.length; ++i) {
							console.log("latitude: " + response.routes[0].overview_path[i].lat() + "  longitude: " + response.routes[0].overview_path[i].lng());
						}
					} else {
						window.alert('Directions request failed due to ' + status);
					}
				});
			}
		</script>
		<!-- <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAXMG7IIHbPwz9NcCYFo2vgfD7WtKwizmM&callback=initMap"></script> -->
		<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
		<script src="directions.js" type="text/javascript"></script>
</html>






